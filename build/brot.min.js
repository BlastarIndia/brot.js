/*! brot.js - v0.0.1 */
!function(a,b,c){function d(c,f){if(!b[c]){if(!a[c]){var g="function"==typeof require&&require;if(!f&&g)return g(c,!0);if(e)return e(c,!0);throw new Error("Cannot find module '"+c+"'")}var h=b[c]={exports:{}};a[c][0].call(h.exports,function(b){var e=a[c][1][b];return d(e?e:b)},h,h.exports)}return b[c].exports}for(var e="function"==typeof require&&require,f=0;f<c.length;f++)d(c[f]);return d}({1:[function(a){!function(b){"use strict";var c=a("./buddhabrot");b(document).ready(function(){var a=document.getElementById("main");a.width=0|.8*window.innerWidth,a.height=0|.8*window.innerHeight;for(var b=a.width,d=a.height,e=a.getContext("2d"),f=new c(b,d),g=f.run(),h=e.createImageData(a.width,a.height),i=h.data,j=h.width*h.height,k=0;j>k;k++){var l=4*k;i[l]=255*g[k],i[l+1]=255*g[k],i[l+2]=255*g[k],i[l+3]=255}e.putImageData(h,0,0)})}(jQuery)},{"./buddhabrot":2}],2:[function(a,b){!function(){!function(){"use strict";var c=a("./complex"),d=function(a,b,c,e,f){return this instanceof d?(this.width=a,this.height=b,this.iterations=c||1e5,this.maxEscapeIter=e||20,this.anti=f||!1,void 0):new d(a,b)};d.prototype.run=function(){return this._setup(),this._execute(),this.normedImage},d.prototype._setup=function(){var a=4,b=8;this.pixels=this.width*this.height,this.imageProcBytes=this.pixels*a+this.pixels*b,this.bufLength=2*(this.pixels*a+this.pixels*b);for(var c=this.bufLength-this.imageProcBytes;c<2*this.maxEscapeIter*b;)this.bufLength=2*this.bufLength,c=this.bufLength-this.imageProcBytes;this.buf=new ArrayBuffer(this.bufLength),this.imageStart=0,this.imageLength=this.pixels,this.image=new Int32Array(this.buf,this.imageStart,this.imageLength),this.normedImageStart=this.imageLength*a,this.normedImageLength=this.pixels,this.normedImage=new Float64Array(this.buf,this.normedImageStart,this.normedImageLength),this.cacheStart=this.imageLength*a+this.normedImageLength*b,this.cacheLength=(this.bufLength-this.cacheStart)/b,this.cache=new Float64Array(this.buf,this.cacheStart,this.cacheLength);var d=-2.5,e=1,f=-1,g=1,h=e-d,i=g-f,j=h/i,k=this.height/this.width;j>=k?(this.ystart=d,this.ylength=h,this.xlength=this.ylength/k,this.xstart=0-this.xlength/2):(this.xstart=f,this.xlength=i,this.ylength=this.xlength*k,this.ystart=d+h/2-this.ylength/2),this.xend=this.xstart+this.xlength,this.yend=this.ystart+this.ylength,this.dx=this.xlength/this.width,this.dy=this.ylength/this.height,this.normalizer=0},d.prototype._execute=function(){var a,b,c;for(c=0;c<this.iterations;c++)a=this.xstart+Math.random()*this.xlength,b=this.ystart+Math.random()*this.ylength,this._traceTrajectory(a,b);this._normalizeImage()},d.prototype._traceTrajectory=function(a,b){for(var d=c(b,a),e=d.clone(),f=0;this._isBounded(d)&&f<this.maxEscapeIter;)this._cache(d,f),d=d.isquared().iadd(e),f++;this._checkCriteria(f)&&this._saveTrajectory(f)},d.prototype._normalizeImage=function(){for(var a=this.normalizer||1,b=0;b<this.pixels;b++)this.normedImage[b]=this.image[b]/a},d.prototype._isBounded=function(a){var b=4;return a.real*a.real+a.imag*a.imag<b},d.prototype._cache=function(a,b){var c=2*b;this.cache[c]=a.real,this.cache[c+1]=a.imag},d.prototype._checkCriteria=function(a){return this.anti?a===this.maxEscapeIter:a<this.maxEscapeIter},d.prototype._saveTrajectory=function(a){var b,c,d,e,f,g,h,i;for(b=0;a>b;b++)c=2*b,e=this.cache[c],d=this.cache[c+1],d<this.xstart||d>this.xend||e<this.ystart||e>this.yend||(f=0|(e-this.ystart)/this.dy,g=0|(d-this.xstart)/this.dx,h=f*this.width+g,i=++this.image[h],this.normalizer<i&&(this.normalizer=i))},b.exports=d}()}()},{"./complex":3}],3:[function(a,b){!function(){"use strict";var a=function(b,c){return this instanceof a?(this.real=Number(b)||0,this.imag=Number(c)||0,void 0):new a(b,c)};a.prototype.clone=function(){return new a(this.real,this.imag)},a.toComplex=function(b){return b instanceof a?b:new a(Number(b)||0,0)},a.prototype.add=function(a){return this.clone().iadd(a)},a.prototype.iadd=function(b){return b=a.toComplex(b),this.real=this.real+b.real,this.imag=this.imag+b.imag,this},a.prototype.sub=function(a){return this.clone().isub(a)},a.prototype.isub=function(b){return b=a.toComplex(b),this.real=this.real-b.real,this.imag=this.imag-b.imag,this},a.prototype.mult=function(a){return this.clone().imult(a)},a.prototype.imult=function(b){b=a.toComplex(b);var c=this.real*b.real-this.imag*b.imag,d=this.imag*b.real+this.real*b.imag;return this.real=c,this.imag=d,this},a.prototype.div=function(a){return this.clone().idiv(a)},a.prototype.idiv=function(b){b=a.toComplex(b);var c=b.real*b.real+b.imag*b.imag,d=(this.real*b.real+this.imag*b.imag)/c,e=(this.imag*b.real-this.real*b.imag)/c;return this.real=d,this.imag=e,this},a.prototype.conjugate=function(){return this.clone().iconjugate()},a.prototype.iconjugate=function(){return this.imag=-this.imag,this},a.prototype.abs=function(){return Math.sqrt(this.real*this.real+this.imag*this.imag)},a.prototype.pow=function(a){return this.clone().ipow(a)},a.prototype.ipow=function(a){var b,c;if(a=Number(a)||0,0===a)this.real=1,this.imag=0;else if(0>a){for(a=-a,c=this.clone(),b=1;a>b;b++)c.imult(this);this.real=1,this.imag=0,this.idiv(c)}else{for(c=this.clone(),b=1;a>b;b++)c.imult(this);this.real=c.real,this.imag=c.imag}return this},a.prototype.squared=function(){return this.clone().ipow(2)},a.prototype.isquared=function(){return this.ipow(2)},b.exports=a}()},{}]},{},[1]);